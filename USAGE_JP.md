# NoticePlugin 使用ガイド

## プラグインの概要

NoticePluginは、`message.yml`ファイルに登録したメッセージを`/notice`コマンドで全プレイヤーに配信するためのMinecraft JAVA版プラグインです。

## セットアップ手順

### 1. プラグインのビルド

Maven環境が必要です：

```bash
mvn clean package
```

`target/`ディレクトリに`notice-plugin-1.0.0.jar`が生成されます。

### 2. プラグインのインストール

1. 生成されたJARファイルをMinecraftサーバーの`plugins/`フォルダにコピー
2. サーバーを起動または再起動
3. `plugins/NoticePlugin/`フォルダと設定ファイルが自動生成されます

### 3. メッセージの設定

`plugins/NoticePlugin/message.yml`ファイルを編集してメッセージを追加・変更できます：

```yaml
messages:
  welcome: "&aサーバーへようこそ！"
  maintenance: "&cメンテナンスを10分後に開始します。進行状況を保存してください。"
  event: "&6特別イベント開催中！スポーンに集合！"
  restart: "&e5分後にサーバーを再起動します。"
```

## コマンドの使い方

### 基本的な使用方法

```
/notice <メッセージキー>
```

**例：**

```
/notice welcome
```

このコマンドを実行すると、サーバーの全プレイヤーに「サーバーへようこそ！」というメッセージが配信されます。

### タブ補完機能

`/notice`の後にタブキーを押すと、利用可能なメッセージキーの一覧が表示されます。

### エラーメッセージ

- メッセージキーを指定しない場合：使用方法と利用可能なキー一覧が表示されます
- 存在しないキーを指定した場合：エラーメッセージと利用可能なキー一覧が表示されます

## カラーコードの使い方

メッセージ内で`&`に続けて文字を入力することで、テキストに色を付けることができます：

### 色コード一覧

| コード | 色 | 例 |
|--------|------|------|
| `&0` | 黒 | `&0黒色のテキスト` |
| `&1` | 濃い青 | `&1濃い青色のテキスト` |
| `&2` | 濃い緑 | `&2濃い緑色のテキスト` |
| `&3` | 濃い水色 | `&3濃い水色のテキスト` |
| `&4` | 濃い赤 | `&4濃い赤色のテキスト` |
| `&5` | 濃い紫 | `&5濃い紫色のテキスト` |
| `&6` | 金色 | `&6金色のテキスト` |
| `&7` | 灰色 | `&7灰色のテキスト` |
| `&8` | 濃い灰色 | `&8濃い灰色のテキスト` |
| `&9` | 青 | `&9青色のテキスト` |
| `&a` | 緑 | `&a緑色のテキスト` |
| `&b` | 水色 | `&b水色のテキスト` |
| `&c` | 赤 | `&c赤色のテキスト` |
| `&d` | 明るい紫 | `&d明るい紫色のテキスト` |
| `&e` | 黄色 | `&e黄色のテキスト` |
| `&f` | 白 | `&f白色のテキスト` |

### 書式コード

| コード | 書式 |
|--------|------|
| `&l` | 太字 |
| `&m` | 取り消し線 |
| `&n` | 下線 |
| `&o` | 斜体 |
| `&r` | リセット |

### 使用例

```yaml
messages:
  colored: "&a緑色&bと水色&cと赤色"
  bold: "&l太字のメッセージ"
  mixed: "&c&l赤色で太字のメッセージ"
```

## 権限設定

### デフォルト権限

- `notice.use` - `/notice`コマンドの使用権限（デフォルト：オペレーターのみ）

### 権限の設定例（permissions.ymlまたは権限プラグイン）

```yaml
groups:
  moderator:
    permissions:
      - notice.use
```

## トラブルシューティング

### メッセージが表示されない

1. `message.yml`ファイルの構文が正しいか確認
2. インデント（空白）が正しく設定されているか確認
3. メッセージキーが`messages:`セクション内にあるか確認

### プラグインが起動しない

1. サーバーログでエラーを確認
2. Minecraftのバージョンが1.20.1以上であることを確認
3. Javaのバージョンが17以上であることを確認

### コマンドが実行できない

1. 権限設定を確認（`notice.use`権限が必要）
2. プラグインが正常に有効化されているか確認（`/plugins`コマンドで確認）

## よくある使用例

### サーバーメンテナンス通知

```yaml
messages:
  maintenance_30: "&c【重要】30分後にメンテナンスを開始します"
  maintenance_10: "&c【重要】10分後にメンテナンスを開始します"
  maintenance_5: "&c【警告】5分後にメンテナンスを開始します！"
  maintenance_1: "&c&l【緊急】1分後にメンテナンスを開始します！！"
```

### イベント告知

```yaml
messages:
  event_start: "&6&l【イベント】特別イベントが開始されました！"
  event_pvp: "&c【PvPイベント】アリーナに集合してください！"
  event_building: "&a【建築イベント】テーマは『和風建築』です！"
```

### 日常的な通知

```yaml
messages:
  morning: "&e【お知らせ】おはようございます！今日も良い一日を！"
  rule_reminder: "&b【ルール】他のプレイヤーに迷惑をかけないようにお願いします"
  backup: "&a【システム】バックアップを実行中です..."
```

## サポート

問題が発生した場合は、GitHubのIssuesページで報告してください。
